---
icon: edit
date: 2022-12-28
category:
  - sql
---
# 第二范式

第二范式是数据库设计的一种规范，它要求每个表中的非主属性都完全依赖于主键，而不是部分依赖。主键是用来唯一标识表中的每一条记录的一个或多个字段，非主属性是表中除了主键以外的其他字段。完全依赖是指非主属性的值只取决于主键的值，而不受其他字段的影响。部分依赖是指非主属性的值只取决于主键的一部分字段，而不是整个主键。

举个例子，假设有一个学生选课表，其中有学号、课程号、成绩、学分四个字段，主键是（学号，课程号），因为一个学生可以选多门课，一门课可以被多个学生选，所以需要两个字段才能确定一条记录。在这个表中，成绩字段完全依赖于主键，因为一个学生的一门课的成绩只和这两个字段有关，而不和其他字段有关。但是学分字段只部分依赖于主键，因为一门课的学分只和课程号有关，而不和学号有关。这样就导致了数据冗余和更新异常的问题，比如如果一门课的学分变了，就需要修改所有选了这门课的学生的记录，否则会出现不一致的情况。

为了满足第二范式，我们需要将这个表分解为两个表，一个是学生选课表，只包含学号、课程号、成绩三个字段，主键是（学号，课程号），另一个是课程表，只包含课程号、学分两个字段，主键是课程号。这样就消除了部分依赖，减少了数据冗余和更新异常。
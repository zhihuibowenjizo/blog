import{defineComponent as p,ref as i,computed as s,onMounted as n,onBeforeMount as u,h as o}from"vue";import"plyr/dist/plyr.css";import"../styles/video-player.scss";var d=p({name:"VideoPlayer",props:{options:{type:Object,default:()=>({})},src:{type:String,required:!0},title:{type:String,default:"A video"},type:{type:String,default:""},tracks:{type:Array,default:()=>[]},poster:{type:String,default:""},width:{type:[String,Number],default:"100%"},loop:Boolean},setup(t){let r=null;const l=i(),a=s(()=>({hideYouTubeDOMError:!0,...t.options}));return n(()=>{import("plyr").then(({default:e})=>{l.value&&(r=new e(l.value,a.value))})}),u(()=>{try{r==null||r.destroy()}catch(e){a.value.hideYouTubeDOMError&&e.message==="The YouTube player is not attached to the DOM."||console.error(e)}}),()=>t.src?o("div",{class:"video-wrapper",style:{width:t.width}},[o("a",{class:"sr-only",href:t.src},t.title),o("video",{ref:l,title:t.title,crossorigin:"anonymous",poster:t.poster,preload:"metadata",controls:"",...t.loop?{loop:""}:{}},[...t.tracks.map(e=>o("track",e)),o("source",{src:t.src,type:t.type})])]):null}});export{d as default};
//# sourceMappingURL=VideoPlayer.js.map
